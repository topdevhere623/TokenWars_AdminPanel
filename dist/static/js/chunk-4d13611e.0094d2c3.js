(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d13611e"],{"3e92":function(e,t,a){"use strict";a("d72d")},"7c06":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-wrapper"},[t("div",{staticClass:"public-list-inputs"},[t("el-input",{staticClass:"public-input",staticStyle:{width:"140px"},attrs:{placeholder:"Enter flowing water number",clearable:""},model:{value:e.flowId,callback:function(t){e.flowId=t},expression:"flowId"}}),t("el-input",{staticClass:"public-input",staticStyle:{width:"140px"},attrs:{placeholder:"Enter user ID",clearable:""},model:{value:e.userId,callback:function(t){e.userId=t},expression:"userId"}}),t("el-input",{staticClass:"public-input",staticStyle:{width:"140px"},attrs:{placeholder:"Enter the superior ID",clearable:""},model:{value:e.upId,callback:function(t){e.upId=t},expression:"upId"}}),t("div",{staticClass:"public-date-box"},[t("span",{staticClass:"demonstration"},[e._v(" Account change time ")]),t("el-date-picker",{attrs:{type:"datetimerange","range-separator":"åˆ°","start-placeholder":"Starting time","end-placeholder":"End Time"},model:{value:e.changeTime,callback:function(t){e.changeTime=t},expression:"changeTime"}})],1),t("el-button",{staticClass:"public-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.fetchRebatesRecordList()}}},[e._v(" Inquire ")]),t("el-button",{staticClass:"public-search",attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(t){return e.onExport()}}},[e._v(" Export ")])],1),t("div",{staticClass:"remittance-box"},[t("div",{staticClass:"remittance-amount remittance-more"},[t("div",{staticClass:"remittance-item"},[t("div",{staticClass:"title"},[e._v("Total flowing water")]),t("div",{staticClass:"val"},[e._v(e._s(e.aggregateQuery&&e.aggregateQuery.flowNumbers))])]),t("div",{staticClass:"remittance-item"},[t("div",{staticClass:"title"},[e._v("Total commission")]),t("div",{staticClass:"val"},[e._v(e._s(e.aggregateQuery&&e.aggregateQuery.rebatesAmounts))])]),t("div",{staticClass:"remittance-item"},[t("div",{staticClass:"title"},[e._v("lump sum")]),t("div",{staticClass:"val"},[e._v(e._s(e.aggregateQuery&&e.aggregateQuery.traAmounts))])])])]),t("el-table",{staticClass:"public-table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"sort-change":e.sortChange}},[t("el-table-column",{key:"1",attrs:{prop:"flowId",sortable:"custom",label:"serial number",align:"center"}}),t("el-table-column",{key:"2",attrs:{prop:"userName",width:"120",sortable:"custom",label:"user",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{style:{color:"INNER"==a.row.userType?"red":"#000"}},[e._v(" "+e._s(a.row.userId||"--")+" ")]),t("p",{style:{color:"INNER"==a.row.userType?"red":"#000"}},[e._v(" "+e._s(a.row.userName||"--")+" ")])]}}])}),t("el-table-column",{key:"3",attrs:{prop:"userName",width:"120",sortable:"custom",label:"Superior",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",[e._v(e._s(a.row.upId||"--"))]),t("p",[e._v(e._s(a.row.upUserName||"--"))])]}}])}),t("el-table-column",{key:"4",attrs:{prop:"rebatesType",sortable:"custom",label:"Behavior",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return["CONSUME"==a.row.rebatesType?t("span",[e._v("Consumption")]):e._e()]}}])}),t("el-table-column",{key:"5",attrs:{prop:"orderNumber",label:"order number",align:"center"}}),t("el-table-column",{key:"6",attrs:{prop:"traAmount",sortable:"custom",label:"Amount(".concat(e.coin,")"),align:"center"}}),t("el-table-column",{key:"7",attrs:{prop:"rebateRate",label:"Commission ratio",align:"center"}}),t("el-table-column",{key:"8",attrs:{prop:"rebatesAmount",sortable:"custom",label:"Commission(".concat(e.coin,")"),align:"center"}}),t("el-table-column",{key:"9",attrs:{prop:"createTime",sortable:"custom",label:"Account change time",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.timeForStr(t.row.createTime,"YYYY-MM-DD HH:mm:ss"))+" ")]}}])})],1),e.baseUserPage&&e.baseUserPage.total?t("el-pagination",{staticClass:"public-pagination",attrs:{background:"","current-page":e.page,"page-sizes":e.pagination.pageSizes,"page-size":e.size,layout:" sizes, prev, pager, next, jumper",total:e.baseUserPage.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)},r=[],n=a("c7eb"),i=a("5530"),l=a("1da1"),o=a("901e"),c=a.n(o),u=a("ed08"),p=a("1b80"),d=a("51be"),b={name:"RebateRecord",components:{},data:function(){return{flowId:null,userId:null,upId:null,changeTime:null,sortData:{orderBy:null,orderType:null},page:1,size:20,tableData:null,baseUserPage:null,aggregateQuery:null}},mixins:[p["a"]],methods:{bigNumber:c.a,timeForStr:u["h"],searchFun:function(){var e=this.changeTime,t=null,a=null;return e&&e[0]&&(t=Object(u["h"])(e[0],"YYYY-MM-DD HH:mm:ss")),e&&e[1]&&(a=Object(u["h"])(e[1],"YYYY-MM-DD HH:mm:ss")),{flowId:this.flowId,userId:this.userId,upId:this.upId,startTime:t,endTime:a}},sortChange:function(e){e.column;var t=e.prop,a=e.order;this.sortData.orderBy=t,this.sortData.orderType="descending"==a?"DESC":"ASC",a||(this.sortData.orderType=null),this.fetchRebatesRecordList()},fetchRebatesRecordList:function(){var e=arguments,t=this;return Object(l["a"])(Object(n["a"])().mark((function a(){var s,r,l,o,c,u,p,d,b,m;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=!(e.length>0&&void 0!==e[0])||e[0],r=t.searchFun(),l=t.sortData,o=t.size,c=t.coin,u=t.userType,p=t.page,s&&(t.page=1,p=1),d=Object(i["a"])(Object(i["a"])(Object(i["a"])({},{coin:c,userType:u,size:o,page:p}),l),r),a.next=8,t.$http.getRebatesRecordList(d);case 8:return b=a.sent,b&&(t.baseUserPage=b,t.tableData=b.records),delete d.size,delete d.page,a.next=14,t.$http.getRebatesRecordStatistics(d);case 14:m=a.sent,m&&(t.aggregateQuery=m);case 16:case"end":return a.stop()}}),a)})))()},onExport:function(){var e=this.searchFun(),t=d["a"].api+"/rebates-record/exportExcel",a=this.coin,s=this.userType,r=Object(i["a"])(Object(i["a"])({},{coin:a,userType:s}),e);Object(u["c"])(t,r,"Rebate record export")},handleSizeChange:function(e){this.size=e,this.fetchRebatesRecordList()},handleCurrentChange:function(e){this.page=e,this.fetchRebatesRecordList(!1)}},created:function(){this.fetchRebatesRecordList()},computed:{coin:function(){return this.$store.getters.coinConfig},userType:function(){return this.$store.getters.accountConfig}},mounted:function(){},updated:function(){},beforeDestroy:function(){}},m=b,g=(a("3e92"),a("2877")),h=Object(g["a"])(m,s,r,!1,null,"3ddc9052",null);t["default"]=h.exports},d72d:function(e,t,a){}}]);