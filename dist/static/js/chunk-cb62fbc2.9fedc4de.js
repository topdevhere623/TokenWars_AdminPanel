(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cb62fbc2"],{"736e":function(e,t,a){"use strict";a.r(t);var n=function(){var e,t=this,a=t._self._c;return a("div",{staticClass:"page-wrapper"},[a("el-table",{staticClass:"public-table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{key:"1",attrs:{prop:"id",label:"Currency ID",align:"center"}}),a("el-table-column",{key:"2",attrs:{prop:"img",label:"icon",width:"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{width:"40px",height:"40px"}},[a("el-image",{staticStyle:{height:"100%"},attrs:{src:e.row.img,"preview-src-list":[e.row.img]}})],1)]}}])}),a("el-table-column",{key:"3",attrs:{prop:"coinName",label:"Currency name",align:"center"}}),a("el-table-column",{key:"5",attrs:{prop:"chainName",label:"Support chain",align:"center"}}),a("el-table-column",{attrs:{prop:"gasWalletAddress",label:"state",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.isDisable?a("p",{staticStyle:{color:"#67c23a"}},[t._v("Open up")]):a("p",{staticStyle:{color:"#f56c6c"}},[t._v("Disable")])]}}])}),a("el-table-column",{key:"15",attrs:{label:"operate",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"blueColor publick-button cursor",on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("edit")]),0==e.row.isDisable?a("span",{staticClass:"blueColor publick-button cursor",on:{click:function(a){return t.operatingFunc(e.row,"close")}}},[t._v(" Disable ")]):a("span",{staticClass:"blueColor publick-button cursor",on:{click:function(a){return t.operatingFunc(e.row,"open")}}},[t._v("Open up ")])]}}])})],1),t.baseUserPage&&t.baseUserPage.total?a("el-pagination",{staticClass:"public-pagination",attrs:{background:"","current-page":t.page,"page-sizes":t.pagination.pageSizes,"page-size":t.size,layout:" sizes, prev, pager, next, jumper",total:t.baseUserPage.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e(),t.showDialog?a("el-dialog",{attrs:{title:"Editor",visible:t.showDialog,width:"740px","close-on-click-modal":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.showDialog=e}}},[a("el-form",{ref:"ruleForm",staticClass:"add-form",attrs:{rules:t.rules,model:t.ruleForm,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"Token"}},[a("p",{staticStyle:{"line-height":"28px"}},[t._v(t._s(t.row.coinName))])]),a("el-form-item",{attrs:{label:"icon",prop:"img",rules:t.rules.select}},[a("el-upload",{class:{hide:t.hideUpload},attrs:{action:t.uploadUrl,"on-change":t.handleChange,"on-success":t.handleUpload,"file-list":t.fileImg,multiple:!1,limit:1,accept:"image/png,image/jpg,image/jpeg,image/svg+xml,image/gif,image/webp","list-type":"picture-card","before-upload":t.handleBefore,"on-remove":t.handleRemove,"on-exceed":t.handExceed,headers:t.uploadHeader}},[a("i",{staticClass:"el-icon-plus"})])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:null===(e=t.ruleForm)||void 0===e?void 0:e.chainList,border:""}},[a("el-table-column",{key:"1",attrs:{prop:"chainName",label:"chain",align:"center"}}),a("el-table-column",{key:"2",attrs:{prop:"minPrice",label:"The default collection threshold",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticClass:"danger",attrs:{type:"number",autocomplete:"off"},model:{value:e.row.minPrice,callback:function(a){t.$set(e.row,"minPrice",a)},expression:"scope.row.minPrice"}})]}}],null,!1,1695208123)}),a("el-table-column",{key:"3",attrs:{prop:"minimumWithdrawalAmount",label:"Compulsory collection threshold",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticClass:"danger",attrs:{type:"number",autocomplete:"off"},model:{value:e.row.minimumWithdrawalAmount,callback:function(a){t.$set(e.row,"minimumWithdrawalAmount",a)},expression:"scope.row.minimumWithdrawalAmount"}})]}}],null,!1,860700297)}),a("el-table-column",{key:"4",attrs:{prop:"gas",label:"gas",align:"center"}}),a("el-table-column",{key:"5",attrs:{prop:"id",label:"state",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.isDisplay?a("p",{staticStyle:{color:"#67c23a"}},[t._v("activated")]):a("p",{staticStyle:{color:"#f56c6c"}},[t._v("stopped")])]}}],null,!1,203709668)}),a("el-table-column",{key:"6",attrs:{prop:"assetBalance",label:"operate",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.isDisplay?a("span",{staticClass:"blueColor publick-button cursor",on:{click:function(a){return t.saveFunc(e.row,"close",e.$index)}}},[t._v(" Stop ")]):a("span",{staticClass:"blueColor publick-button cursor",on:{click:function(a){return t.saveFunc(e.row,"open",e.$index)}}},[t._v("Open up ")])]}}],null,!1,1965356938)})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.handleClose()}}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("Sure")])],1)],1):t._e()],1)},r=[],i=a("c7eb"),o=a("5530"),s=a("1da1"),l=(a("14d9"),a("bc3a"),a("ed08")),c=a("1b80"),u=a("51be"),p=a("0acd"),d={name:"ExternalTokenManagement",components:{},data:function(){return{showDialog:!1,page:1,size:20,subTableData:[],tableData:null,baseUserPage:null,uploadUrl:"",fileImg:[],limitCount:1,hideUpload:!1,uploadHeader:{certificate:sessionStorage.getItem("token")},ruleForm:{},rules:{select:[{required:!0,message:"please choose",trigger:["blur","change"]}],blur:[{required:!0,message:"please enter",trigger:["blur","change"]}]},chainList:p["a"]}},mixins:[c["a"]],methods:{timeForStr:l["h"],getTableList:function(){var e=arguments,t=this;return Object(s["a"])(Object(i["a"])().mark((function a(){var n,r,s,l;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return!(e.length>0&&void 0!==e[0])||e[0],n=t.size,r=t.page,s=Object(o["a"])({},{size:n,page:r}),a.next=6,t.$http.transferCoinPageList(s);case 6:l=a.sent,l&&(t.baseUserPage=l,t.tableData=l.records);case 8:case"end":return a.stop()}}),a)})))()},handleEdit:function(e){this.row=e,this.getSubTableData()},getSubTableData:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.transferCoinPageInfo({coin:e.row.coinName});case 2:a=t.sent,a&&(e.ruleForm=a,e.hideUpload=!0,e.fileImg=[{url:a.img}],e.showDialog=!0);case 4:case"end":return t.stop()}}),t)})))()},handleDel:function(e){var t=this;this.$confirm('Are you sure to delete the series "'.concat(e.seriesname||e.id,'"?'),{confirmButtonText:"Sure",cancelButtonText:"Cancel",type:"info"}).then(Object(s["a"])(Object(i["a"])().mark((function a(){var n;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.externalCoinDelete({id:e.id});case 2:n=a.sent,n&&(t.getTableList(),t.$message.success("Successful operation"));case 4:case"end":return a.stop()}}),a)})))).catch((function(e){console.error(e)}))},handleClose:function(e){this.fileImg=[],this.$refs["ruleForm"].clearValidate(),e?e():this.showDialog=!1},handleUpload:function(e){if(200==e.code)return this.fileImg.push({url:e.data}),void(this.ruleForm.img=e.data);this.$message.error("upload failed")},handleBefore:function(e){var t=this,a=e.size/1024/1024<2;return a||t.$message.error("The file is too large, and the file size is less than 2M"),a},handleChange:function(e,t){this.hideUpload=t.length>=this.limitCount},handleRemove:function(e,t){this.hideUpload=t.length>=this.limitCount,this.fileImg=[]},handExceed:function(e){this.$message.error("File can only upload one")},setFun:function(e){},submitForm:function(){var e=this;this.$refs.ruleForm.validate(function(){var t=Object(s["a"])(Object(i["a"])().mark((function t(a){var n,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=11;break}if(0!=e.fileImg.length){t.next=4;break}return e.$message.error("Please upload the picture!"),t.abrupt("return");case 4:return n=Object(o["a"])(Object(o["a"])({},e.ruleForm),{},{id:e.row.id}),t.next=7,e.$http.transferCoinUpdate(Object(o["a"])({},n));case 7:r=t.sent,r&&(e.handleClose(),e.$refs["ruleForm"].resetFields(),e.$message.success("Successful operation!"),e.getTableList(),e.fileImg=[]),t.next=13;break;case 11:return console.log("error submit!!"),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleSizeChange:function(e){this.size=e,this.getTableList()},handleCurrentChange:function(e){this.page=e,this.getTableList(!1)},saveFunc:function(e,t,a){var n=this;this.$confirm("Determine".concat("open"==t?"Open up":"Stop","?"),"hint",{confirmButtonText:"Sure",cancelButtonText:"Cancel",type:"warning"}).then(Object(s["a"])(Object(i["a"])().mark((function a(){var r,s;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.isDisplay="open"!=t,r=Object(o["a"])(Object(o["a"])({},n.ruleForm),{},{id:n.row.id}),a.next=4,n.$http.transferCoinUpdate(Object(o["a"])({},r));case 4:s=a.sent,s&&(n.getTableList(),n.$message.success("Successful operation"));case 6:case"end":return a.stop()}}),a)})))).catch((function(e){console.error(e)}))},operatingFunc:function(e,t){var a=this;this.$confirm("Determine".concat("open"==t?"Open up":"Stop","?"),"hint",{confirmButtonText:"Sure",cancelButtonText:"Cancel",type:"warning"}).then(Object(s["a"])(Object(i["a"])().mark((function n(){var r;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.$http.transferCoinModifyState({coin:e.coinName,isDisable:"open"!=t});case 2:r=n.sent,r&&(a.getTableList(),a.$message.success("Successful operation"));case 4:case"end":return n.stop()}}),n)})))).catch((function(e){console.error(e)}))},mandatoryReviwUpdateFunc:function(e){var t=this;return Object(s["a"])(Object(i["a"])().mark((function a(){var n;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.mandatoryReviwUpdate({id:e.id,isWithdrawal:e.isWithdrawal,isTake:e.isTake,isOneDollarBuy:e.isOneDollarBuy});case 2:n=a.sent,n&&(t.getTableListFunc(!1),t.$message.success("Successful operation"));case 4:case"end":return a.stop()}}),a)})))()}},created:function(){this.getTableList(),this.uploadUrl=u["a"].api+"/file/upload/image"},computed:{coin:function(){return this.$store.getters.coinConfig},userType:function(){return this.$store.getters.accountConfig}},mounted:function(){},updated:function(){},beforeDestroy:function(){}},h=d,f=(a("abc1"),a("2877")),b=Object(f["a"])(h,n,r,!1,null,"5e86488b",null);t["default"]=b.exports},"8f02":function(e,t,a){},abc1:function(e,t,a){"use strict";a("8f02")}}]);