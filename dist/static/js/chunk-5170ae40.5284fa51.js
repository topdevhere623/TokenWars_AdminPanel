(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5170ae40"],{"7a91":function(e,t,a){},"7db0":function(e,t,a){"use strict";var r=a("23e7"),i=a("b727").find,l=a("44d2"),s="find",n=!0;s in[]&&Array(1)[s]((function(){n=!1})),r({target:"Array",proto:!0,forced:n},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),l(s)},"81b9":function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("a",{attrs:{href:e.addressUrl,target:"_blank"}},[e._t("default",(function(){return[e._v("View Results")]}))],2)},i=[],l=(a("7db0"),a("d3b7"),a("0acd")),s={props:{chain:{type:String|Boolean,default:!1},address:{type:String|Boolean,default:!1}},data:function(){return{addressUrl:""}},mounted:function(){var e=this.chain;if(e){var t=l["b"].find((function(t){return t.chainName==e})),a=null===t||void 0===t?void 0:t.blockExplorerUrls;this.addressUrl=a+this.address}}},n=s,o=(a("d185"),a("2877")),c=Object(o["a"])(n,r,i,!1,null,"b754451c",null);t["a"]=c.exports},"90b6":function(e,t,a){"use strict";a("aea2")},aea2:function(e,t,a){},d185:function(e,t,a){"use strict";a("7a91")},dc0f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-wrapper"},[t("div",{staticClass:"public-list-inputs"},[t("el-input",{staticClass:"public-input",staticStyle:{width:"140px"},attrs:{placeholder:"Enter order number",clearable:""},model:{value:e.orderNumber,callback:function(t){e.orderNumber=t},expression:"orderNumber"}}),t("el-input",{staticClass:"public-input",staticStyle:{width:"140px"},attrs:{placeholder:"Enter the name of the blind box",clearable:""},model:{value:e.boxName,callback:function(t){e.boxName=t},expression:"boxName"}}),t("el-input",{staticClass:"public-input",staticStyle:{width:"140px"},attrs:{placeholder:"Enter user ID/Nick name",clearable:""},model:{value:e.obscureField,callback:function(t){e.obscureField=t},expression:"obscureField"}}),t("el-input",{staticClass:"public-input",staticStyle:{width:"140px"},attrs:{placeholder:"Enter Hash",clearable:""},model:{value:e.hash,callback:function(t){e.hash=t},expression:"hash"}}),t("div",{staticClass:"public-date-box"},[t("span",{staticClass:"demonstration"},[e._v(" Consumer ")]),t("el-input",{staticStyle:{width:"120px",border:"1px solid #dcdfe6","border-radius":"4px"},attrs:{type:"number",placeholder:"Minimum price",clearable:""},model:{value:e.startPrice,callback:function(t){e.startPrice=t},expression:"startPrice"}}),t("el-input",{staticStyle:{width:"120px",border:"1px solid #dcdfe6","border-radius":"4px"},attrs:{type:"number",placeholder:"Highest price",clearable:""},model:{value:e.endPrice,callback:function(t){e.endPrice=t},expression:"endPrice"}})],1),t("div",{staticClass:"public-date-box"},[t("span",{staticClass:"demonstration"},[e._v(" transaction hour ")]),t("el-date-picker",{attrs:{type:"datetimerange","range-separator":"arrive","start-placeholder":"Starting time","end-placeholder":"End Time"},model:{value:e.transactionTime,callback:function(t){e.transactionTime=t},expression:"transactionTime"}})],1),t("div",{staticClass:"public-date-box"},[t("span",{staticClass:"demonstration"},[e._v(" Completion time of transaction ")]),t("el-date-picker",{attrs:{type:"datetimerange","range-separator":"arrive","start-placeholder":"Starting time","end-placeholder":"End Time"},model:{value:e.transactionCompleteTime,callback:function(t){e.transactionCompleteTime=t},expression:"transactionCompleteTime"}})],1),t("el-button",{staticClass:"public-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.fetchOrderManagerList()}}},[e._v(" Inquire ")]),t("el-button",{staticClass:"public-search",attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(t){return e.dailyStatsExcel()}}},[e._v(" Daily statistical data export ")])],1),t("div",{staticClass:"remittance-box"},[t("div",{staticClass:"remittance-amount remittance-more"},[t("div",{staticClass:"remittance-item"},[t("div",{staticClass:"title"},[e._v("number of order")]),t("div",{staticClass:"val"},[e._v(" "+e._s(e.aggregateQuery&&e.aggregateQuery.orderNumber)+" ")])]),t("div",{staticClass:"remittance-item"},[t("div",{staticClass:"title"},[e._v("Number of open boxes")]),t("div",{staticClass:"val"},[e._v(" "+e._s(e.aggregateQuery&&e.aggregateQuery.openBoxNumber)+" ")])]),t("div",{staticClass:"remittance-item"},[t("div",{staticClass:"title"},[e._v("Total consumption")]),t("div",{staticClass:"val"},[e._v(" "+e._s(e.aggregateQuery&&e.aggregateQuery.consumeTotal)+" ")])]),t("div",{staticClass:"remittance-item"},[t("div",{staticClass:"title"},[e._v("Total commission")]),t("div",{staticClass:"val"},[e._v(" "+e._s(e.aggregateQuery&&e.aggregateQuery.rebatesPrices)+" ")])]),t("div",{staticClass:"remittance-item"},[t("div",{staticClass:"title"},[e._v("Total return value")]),t("div",{staticClass:"val"},[e._v(" "+e._s(e.aggregateQuery&&e.aggregateQuery.lotteryPrices)+" ")])])])]),t("el-table",{staticClass:"public-table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"sort-change":e.sortChange}},[t("el-table-column",{key:"1",attrs:{prop:"orderNumber",sortable:"custom",label:"order number",align:"center"}}),t("el-table-column",{key:"2",attrs:{prop:"boxImg",width:"120",label:"Blind box",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("div",{staticStyle:{width:"100px",height:"100px"}},[t("el-image",{staticStyle:{height:"100%"},attrs:{src:e.row.boxImg,"preview-src-list":[e.row.boxImg]}})],1)]}}])}),t("el-table-column",{key:"3",attrs:{prop:"boxName",width:"120",sortable:"custom",label:"Blind Box Name",align:"center"}}),t("el-table-column",{key:"4",attrs:{prop:"buyNumber",width:"120",sortable:"custom",label:"Number",align:"center"}}),t("el-table-column",{key:"5",attrs:{prop:"userName",width:"120",sortable:"custom",label:"user",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{style:{color:"INNER"==a.row.userType?"red":"#000"}},[e._v(" "+e._s(a.row.userId||"--")+" ")]),t("p",{style:{color:"INNER"==a.row.userType?"red":"#000"}},[e._v(" "+e._s(a.row.userName||"--")+" ")])]}}])}),t("el-table-column",{key:"6",attrs:{prop:"buyPrice",width:"120",sortable:"custom",label:"Consumption ($ {Coin})",align:"center"}}),t("el-table-column",{key:"8",attrs:{width:"120",label:"Return prize",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"blueColor publick-button cursor",on:{click:function(t){return e.handleView(a.row)}}},[e._v(" Check ")])]}}])}),t("el-table-column",{key:"9",attrs:{prop:"realPrice",width:"120",sortable:"custom",label:"Return value ($ {coin})",align:"center"}}),t("el-table-column",{key:"9",attrs:{prop:"refundPrice",width:"120",sortable:"custom",label:"Refund amount ($ {coin})",align:"center"}}),t("el-table-column",{key:"10",attrs:{prop:"rebatesPrice",width:"120",sortable:"custom",label:"Commission ($ {coin})",align:"center"}}),t("el-table-column",{key:"11",attrs:{prop:"buySource",width:"120",label:"Consumer channel",align:"center"}}),t("el-table-column",{key:"12",attrs:{prop:"hash",width:"120",label:"Draw chain",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("chainExplorerSkip",{attrs:{chain:a.row.lotteryChainType,address:"tx/".concat(a.row.hash)}},[e._v(e._s(a.row.lotteryChainType))])]}}])}),t("el-table-column",{key:"13",attrs:{prop:"hash",width:"120",label:"harsh",align:"center"}}),t("el-table-column",{key:"14",attrs:{prop:"flowId",width:"120",label:"serial number",align:"center"}}),t("el-table-column",{key:"15",attrs:{prop:"createTime",width:"140",sortable:"custom",label:"transaction hour",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.timeForStr(t.row.createTime,"YYYY-MM-DD HH:mm:ss"))+" ")]}}])}),t("el-table-column",{key:"16",attrs:{prop:"traTime",width:"140",sortable:"custom",label:"Completion time of transaction",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.timeForStr(t.row.traTime,"YYYY-MM-DD HH:mm:ss"))+" ")]}}])})],1),e.baseUserPage&&e.baseUserPage.total?t("el-pagination",{staticClass:"public-pagination",attrs:{background:"","current-page":e.page,"page-sizes":e.pagination.pageSizes,"page-size":e.size,layout:" sizes, prev, pager, next, jumper",total:e.baseUserPage.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e(),t("el-dialog",{attrs:{title:"Details",visible:e.showDialog,width:"1200px","close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.showDialog=t}}},[t("el-table",{staticStyle:{width:"auto"},attrs:{data:e.revenueData,height:"400px",border:""}},[t("el-table-column",{key:"1",attrs:{prop:"orderNumber",label:"order number",align:"center"}}),t("el-table-column",{key:"2",attrs:{prop:"boxName",label:"Blind Box Name",align:"center"}}),t("el-table-column",{key:"3",attrs:{prop:"nftImg",label:"Prize picture",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("div",{staticStyle:{width:"100px",height:"100px"}},[t("el-image",{staticStyle:{height:"100%"},attrs:{src:e.row.nftImg,"preview-src-list":[e.row.nftImg]}})],1)]}}])}),t("el-table-column",{key:"4",attrs:{prop:"seriesName",label:"Prize series",align:"center"}}),t("el-table-column",{key:"5",attrs:{prop:"id",label:"id",align:"center"}}),t("el-table-column",{key:"6",attrs:{prop:"price",label:"Awards value ($ {coin})",align:"center"}}),t("el-table-column",{key:"7",attrs:{prop:"userSelect",label:"User choice",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return["RECLAIM"==a.row.userSelect?t("span",[e._v("Recycle")]):e._e(),"HOLD"==a.row.userSelect?t("span",[e._v("hold")]):e._e()]}}])}),t("el-table-column",{key:"8",attrs:{prop:"realPrice",label:"Actual value (".concat(e.coin,")"),align:"center"}}),t("el-table-column",{key:"9",attrs:{prop:"lotteryStatus",label:"NFT delivery situation",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return["RECLAIMED"==a.row.lotteryStatus?t("span",{staticStyle:{color:"#d2d2d2"}},[e._v("Recycled")]):e._e(),"FAIL"==a.row.lotteryStatus?t("span",{staticStyle:{color:"#ff0707"}},[e._v("Failed to deliver")]):e._e(),"SUCCESS"==a.row.lotteryStatus?t("span",{staticStyle:{color:"#09912e"}},[e._v("paid")]):e._e()]}}])}),t("el-table-column",{key:"10",attrs:{prop:"traTime",width:"140",label:"transaction hour",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.timeForStr(t.row.traTime,"YYYY-MM-DD HH:mm:ss"))+" ")]}}])})],1)],1)],1)},i=[],l=a("c7eb"),s=a("1da1"),n=a("5530"),o=a("901e"),c=a.n(o),u=a("ed08"),d=a("1b80"),p=a("81b9"),b=a("51be"),m={name:"OrderManagement",components:{chainExplorerSkip:p["a"]},data:function(){return{orderNumber:null,boxName:null,obscureField:null,hash:null,startPrice:null,endPrice:null,transactionTime:null,transactionCompleteTime:null,sortData:{orderBy:null,orderType:null},page:1,size:20,tableData:null,baseUserPage:null,aggregateQuery:null,showDialog:!1,revenueData:null}},mixins:[d["a"]],methods:{bigNumber:c.a,timeForStr:u["h"],searchFun:function(){var e=this.transactionTime,t=this.transactionCompleteTime,a=null,r=null,i=null,l=null;return e&&e[0]&&(a=Object(u["h"])(e[0],"YYYY-MM-DD HH:mm:ss")),e&&e[1]&&(r=Object(u["h"])(e[1],"YYYY-MM-DD HH:mm:ss")),t&&t[0]&&(i=Object(u["h"])(t[0],"YYYY-MM-DD HH:mm:ss")),t&&t[1]&&(l=Object(u["h"])(t[1],"YYYY-MM-DD HH:mm:ss")),{orderNumber:this.orderNumber,boxName:this.boxName,obscureField:this.obscureField,hash:this.hash,startPrice:this.startPrice,endPrice:this.endPrice,startTime:a,endTime:r,finishStartTime:i,finishEndTime:l}},sortChange:function(e){e.column;var t=e.prop,a=e.order;this.sortData.orderBy=t,this.sortData.orderType="descending"==a?"DESC":"ASC",a||(this.sortData.orderType=null),this.fetchOrderManagerList()},dailyStatsExcel:function(){var e=this.searchFun(),t=b["a"].api+"/user/dailyStatsExcel",a=(this.coin,this.userType),r=Object(n["a"])(Object(n["a"])({},{startDate:e.startTime,endDate:e.endTime,userType:a}),e);null!=e.startTime?Object(u["c"])(t,r,"Daily data statistics"):alert("The start time of the transaction time must be filled in")},fetchOrderManagerList:function(){var e=arguments,t=this;return Object(s["a"])(Object(l["a"])().mark((function a(){var r,i,s,o,c,u,d,p,b,m;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=!(e.length>0&&void 0!==e[0])||e[0],i=t.searchFun(),s=t.sortData,o=t.size,c=t.coin,u=t.userType,d=t.page,r&&(t.page=1,d=1),p=Object(n["a"])(Object(n["a"])(Object(n["a"])({},{userType:u,coin:c,size:o,page:d}),s),i),a.next=8,t.$http.getOrderManagerList(p);case 8:return b=a.sent,b&&(t.baseUserPage=b,t.tableData=b.records),delete p.size,delete p.page,a.next=14,t.$http.getOrderManagerStatistics(p);case 14:m=a.sent,m&&(t.aggregateQuery=m);case 16:case"end":return a.stop()}}),a)})))()},handleView:function(e){var t=this;return Object(s["a"])(Object(l["a"])().mark((function a(){var r;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.getBoxLotteryList({orderId:e.id,page:1,size:9999});case 2:r=a.sent,r&&(t.revenueData=r.records,t.showDialog=!0);case 4:case"end":return a.stop()}}),a)})))()},handleClose:function(e){e?e():this.showDialog=!1},handleSizeChange:function(e){this.size=e,this.fetchOrderManagerList()},handleCurrentChange:function(e){this.page=e,this.fetchOrderManagerList(!1)}},created:function(){this.fetchOrderManagerList()},computed:{coin:function(){return this.$store.getters.coinConfig},userType:function(){return this.$store.getters.accountConfig}},mounted:function(){},updated:function(){},beforeDestroy:function(){}},h=m,g=(a("90b6"),a("2877")),f=Object(g["a"])(h,r,i,!1,null,"03449926",null);t["default"]=f.exports}}]);