(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23023396"],{"2d8a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-wrapper"},[e("div",{staticClass:"public-list-inputs"},[e("el-input",{staticClass:"public-input",staticStyle:{width:"140px"},attrs:{placeholder:"Enter order ID",clearable:""},model:{value:t.Id,callback:function(e){t.Id=e},expression:"Id"}}),e("el-input",{staticClass:"public-input",staticStyle:{width:"140px"},attrs:{placeholder:"Enter user ID",clearable:""},model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}}),e("el-select",{staticClass:"public-select-box",attrs:{"popper-class":"public-select-box",placeholder:"All states",clearable:""},model:{value:t.auditStatus,callback:function(e){t.auditStatus=e},expression:"auditStatus"}},[e("el-option",{attrs:{label:"To be reviewed",value:"WAIT"}}),e("el-option",{attrs:{label:"Transfer",value:"TRANSFERRING"}}),e("el-option",{attrs:{label:"Successful transfer",value:"SUCCESS"}}),e("el-option",{attrs:{label:"Failed to transfer",value:"FAIL"}}),e("el-option",{attrs:{label:"rejected",value:"REFUSE"}})],1),e("el-select",{staticClass:"public-select-box",attrs:{"popper-class":"public-select-box",placeholder:"All types",clearable:""},model:{value:t.withdrawalType,callback:function(e){t.withdrawalType=e},expression:"withdrawalType"}},[e("el-option",{attrs:{label:"eth",value:"ETH"}}),e("el-option",{attrs:{label:"nft",value:"NFT"}}),e("el-option",{attrs:{label:"usdt",value:"USDT"}})],1),e("el-select",{staticClass:"public-select-box",attrs:{"popper-class":"public-select-box",placeholder:"All chain",clearable:""},model:{value:t.outgoingChainType,callback:function(e){t.outgoingChainType=e},expression:"outgoingChainType"}},t._l(t.chainDrop,(function(t,a){return e("el-option",{key:a,attrs:{label:t.chain,value:t.chain}})})),1),e("div",{staticClass:"public-date-box"},[e("span",{staticClass:"demonstration"},[t._v(" the starting time ")]),e("el-date-picker",{attrs:{type:"datetimerange","range-separator":"到","start-placeholder":"Starting time","end-placeholder":"End Time"},model:{value:t.applicationTime,callback:function(e){t.applicationTime=e},expression:"applicationTime"}})],1),e("div",{staticClass:"public-date-box"},[e("span",{staticClass:"demonstration"},[t._v(" Review time ")]),e("el-date-picker",{attrs:{type:"datetimerange","range-separator":"到","start-placeholder":"Starting time","end-placeholder":"End Time"},model:{value:t.reviewTime,callback:function(e){t.reviewTime=e},expression:"reviewTime"}})],1),e("div",{staticClass:"public-date-box"},[e("span",{staticClass:"demonstration"},[t._v(" Time to account ")]),e("el-date-picker",{attrs:{type:"datetimerange","range-separator":"到","start-placeholder":"Starting time","end-placeholder":"End Time"},model:{value:t.receiptTime,callback:function(e){t.receiptTime=e},expression:"receiptTime"}})],1),e("el-button",{staticClass:"public-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.fetchAssetWithdrawalList()}}},[t._v(" 查询 ")]),e("el-button",{staticClass:"public-search",attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(e){return t.onExport()}}},[t._v(" 导出 ")])],1),e("div",{staticClass:"remittance-box"},[e("div",{staticClass:"remittance-amount remittance-more"},[e("div",{staticClass:"remittance-item"},[e("div",{staticClass:"title"},[t._v("Total order number")]),e("div",{staticClass:"val"},[t._v(" "+t._s(t.aggregateQuery&&t.aggregateQuery.totalNumber)+" ")])]),e("div",{staticClass:"remittance-item"},[e("div",{staticClass:"title"},[t._v("Total withdrawal amount")]),e("div",{staticClass:"val"},[t._v(" "+t._s(t.aggregateQuery&&t.aggregateQuery.withdrawalPrices)+" ")])]),e("div",{staticClass:"remittance-item"},[e("div",{staticClass:"title"},[t._v("Total handling fee")]),e("div",{staticClass:"val"},[t._v(" "+t._s(t.aggregateQuery&&t.aggregateQuery.serviceFees)+" ")])]),e("div",{staticClass:"remittance-item"},[e("div",{staticClass:"title"},[t._v("Total reality")]),e("div",{staticClass:"val"},[t._v(" "+t._s(t.aggregateQuery&&t.aggregateQuery.actualArrivals)+" ")])]),e("div",{staticClass:"remittance-item"},[e("div",{staticClass:"title"},[t._v("Total Gas")]),e("div",{staticClass:"val"},[t._v(t._s(t.aggregateQuery&&t.aggregateQuery.gases))])]),e("div",{staticClass:"remittance-item"},[e("div",{staticClass:"title"},[t._v("A withdrawal account balance")]),e("div",{staticClass:"val"},[t._v(" "+t._s(t.aggregateQuery&&t.aggregateQuery.withdrawalBalance)+" ")])])])]),e("el-table",{staticClass:"public-table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"sort-change":t.sortChange}},[e("el-table-column",{key:"1",attrs:{prop:"flowId",label:"Order ID",align:"center"}}),e("el-table-column",{key:"2",attrs:{prop:"userName",sortable:"custom",width:"120",label:"user",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{style:{color:"INNER"==a.row.userType?"red":"#000"}},[t._v(" "+t._s(a.row.userId||"--")+" ")]),e("p",{style:{color:"INNER"==a.row.userType?"red":"#000"}},[t._v(" "+t._s(a.row.userName||"--")+" ")])]}}])}),e("el-table-column",{key:"3",attrs:{prop:"assetBalance",sortable:"custom",width:"130",label:"User balance",align:"center"}}),e("el-table-column",{key:"19",attrs:{prop:"outgoingChainType",sortable:"custom",width:"130",label:"Chain",align:"center"}}),e("el-table-column",{key:"20",attrs:{prop:"coin",sortable:"custom",width:"130",label:"Currency",align:"center"}}),e("el-table-column",{key:"4",attrs:{prop:"withdrawalPrice",sortable:"custom",width:"130",label:"Withdraw money",align:"center"}}),e("el-table-column",{key:"5",attrs:{prop:"userName",width:"80",label:"Proposal NFT",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return["NFT"==a.row.withdrawalType?e("span",{staticStyle:{color:"#0e9efd",cursor:"pointer"},on:{click:function(e){return t.showWithdrawNft(a.row.outWithdrawalNftList,1)}}},[t._v("Check")]):e("span",[t._v("--")])]}}])}),e("el-table-column",{key:"6",attrs:{prop:"serviceFee",width:"120",sortable:"custom",label:"Handling fees",align:"center"}}),e("el-table-column",{key:"7",attrs:{prop:"userCoin",width:"120",sortable:"custom",label:"Target currency",align:"center"}}),e("el-table-column",{key:"8",attrs:{prop:"actualArrival",width:"120",sortable:"custom",label:"Actually",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return["NFT"==a.row.withdrawalType?e("span",{staticStyle:{color:"#0e9efd",cursor:"pointer"},on:{click:function(e){return t.showWithdrawNft(a.row.arrivedWithdrawalnftlist,2)}}},[t._v("Check")]):e("span",[t._v(t._s(a.row.actualArrival))])]}}])}),e("el-table-column",{key:"9",attrs:{prop:"flowId",label:"serial number",align:"center"}}),e("el-table-column",{key:"10",attrs:{prop:"hash",label:"hash",width:"300",align:"center"}}),e("el-table-column",{key:"11",attrs:{prop:"gas",sortable:"custom",label:"gas",align:"center"}}),e("el-table-column",{key:"12",attrs:{prop:"withdrawalWalletAddress",width:"300",label:"Withdrawal wallet",align:"center"}}),e("el-table-column",{key:"14",attrs:{prop:"createTime",sortable:"custom",width:"140",label:"the starting time",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.timeForStr(e.row.createTime,"YYYY-MM-DD HH:mm:ss"))+" ")]}}])}),e("el-table-column",{key:"15",attrs:{prop:"auditTime",sortable:"custom",width:"140",label:"Review time",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.timeForStr(e.row.auditTime,"YYYY-MM-DD HH:mm:ss"))+" ")]}}])}),e("el-table-column",{key:"16",attrs:{prop:"arrivalTime",sortable:"custom",width:"140",label:"Time to account",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.timeForStr(e.row.arrivalTime,"YYYY-MM-DD HH:mm:ss"))+" ")]}}])}),e("el-table-column",{key:"17",attrs:{prop:"auditStatus",sortable:"custom",label:"Approval Status",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return["WAIT"==a.row.auditStatus?e("span",{staticStyle:{color:"#0e9efd"}},[t._v("To be reviewed")]):t._e(),"TRANSFERRING"==a.row.auditStatus?e("span",{staticStyle:{color:"#fd770a"}},[t._v("Transfer")]):t._e(),"SUCCESS"==a.row.auditStatus?e("span",{staticStyle:{color:"#000"}},[t._v("Withdraw")]):t._e(),"FAIL"==a.row.auditStatus?e("span",{staticStyle:{color:"#ff2a07"}},[t._v("Failed to transfer")]):t._e(),"REFUSE"==a.row.auditStatus?e("span",{staticStyle:{color:"#c1c1c1"}},[t._v("rejected")]):t._e()]}}])}),e("el-table-column",{key:"18",attrs:{prop:"id",label:"operate",align:"center",width:"180",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"blueColor publick-button cursor",on:{click:function(e){return t.showReview(a.row)}}},[t._v(" Detail ")]),"FAIL"==a.row.auditStatus?e("span",{staticClass:"blueColor publick-button cursor",on:{click:function(e){return t.reTryFunc(a.row)}}},[t._v(" Retry ")]):t._e()]}}])})],1),t.baseUserPage&&t.baseUserPage.total?e("el-pagination",{staticClass:"public-pagination",attrs:{background:"","current-page":t.page,"page-sizes":t.pagination.pageSizes,"page-size":t.size,layout:" sizes, prev, pager, next, jumper",total:t.baseUserPage.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e(),e("el-dialog",{attrs:{title:1==t.showNftType?"Proposal NFT":"Actually to the account NFT",visible:t.showNftDialog,width:"800px","close-on-click-modal":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.showNftDialog=e}}},[e("div",{staticClass:"nft-box"},t._l(t.withdrawNftList,(function(a,i){return e("div",{key:i,staticClass:"nft-item"},[e("div",{staticStyle:{"min-width":"80px",height:"80px"}},[e("el-image",{staticStyle:{height:"80px"},attrs:{src:a.nftImg,"preview-src-list":[a.nftImg]}})],1),e("div",{staticClass:"info"},[e("div",{staticClass:"nft-name"},[e("span",[t._v(t._s(a.nftName)+" ")]),e("span",[t._v("#"+t._s(a.tokenId))])]),e("div",{staticClass:"nft-contract"},[t._v("contract:"+t._s(a.contractAddress))])])])})),0)]),e("el-dialog",{attrs:{title:t.title,visible:t.showReviewDialog,width:"600px","close-on-click-modal":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.showReviewDialog=e}}},[e("div",{staticClass:"review-box"},[e("div",{staticClass:"review-info"},[e("div",{staticClass:"review-top-l"},[e("div",{staticClass:"info-title"},[t._v("Withdrawal details")]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("Order ID:")]),e("div",{staticClass:"info-item-val"},[t._v(t._s(t.reviewData&&t.reviewData.id))])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("User ID:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.userId)+" ")])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("User balance:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.assetBalance)+" ")])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("A withdrawal amount:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.withdrawalPrice)+" ")])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("Feature fee:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.serviceFee)+" ")])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("Total withdrawal:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.totalWithdrawal)+" ")])]),1==t.reviewType?e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("Actual accounting:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.actualArrival)+" ")])]):t._e()]),e("div",{staticClass:"review-top-r"},[e("div",{staticClass:"info-title"},[t._v("User Info")]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("User's Nickname:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.userName)+" ")])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("Mail:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.email)+" ")])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("Total consumption:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.totalConsumps)+" ")])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("Total revenue:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.totalRevenue)+" ")])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("Total recharge:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.totalRecharge)+" ")])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("Total commission:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.totalCommission)+" ")])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("Target currency:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.userCoin)+" ")])])])]),e("div",{staticClass:"review-other"},[2==t.reviewType?e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("NFT information:")]),e("div",{staticClass:"info-item-val"},[e("div",{staticClass:"nft-box"},t._l(t.reviewData&&t.reviewData.outWithdrawalNftList,(function(a,i){return e("div",{key:i,staticClass:"nft-item"},[e("div",{staticStyle:{width:"80px",height:"80px"}},[e("el-image",{staticStyle:{height:"80px"},attrs:{src:a.nftImg,"preview-src-list":[a.nftImg]}})],1),e("div",{staticClass:"info"},[e("div",{staticClass:"nft-name"},[e("span",[t._v(t._s(a.nftName)+" ")]),e("span",[t._v("#"+t._s(a.tokenId))])]),e("div",{staticClass:"nft-contract"},[t._v("contract:"+t._s(a.contractAddress))])])])})),0)])]):t._e(),e("div",{staticClass:"info-title"},[t._v("Billing message")]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-item-title"},[t._v("Wallet address:")]),e("div",{staticClass:"info-item-val"},[t._v(" "+t._s(t.reviewData&&t.reviewData.withdrawalWalletAddress)+" ")])])]),t.reviewData&&"WAIT"!=t.reviewData.auditStatus&&"FAIL"!=t.reviewData.auditStatus?e("div",{staticClass:"review-chain"},[e("div",{staticClass:"info-chain",on:{click:function(e){return t.openLink(t.reviewData.hash)}}},[e("span",[t._v("Chain information")]),e("i",{staticClass:"el-icon-link"})])]):t._e(),t.reviewData&&"WAIT"!=t.reviewData.auditStatus&&"TRANSFERRING"!=t.reviewData.auditStatus?e("div",{staticClass:"review-remarks"},[t.reviewData&&"FAIL"==t.reviewData.auditStatus?e("span",[e("span",{staticStyle:{color:"#ff0000"}},[t._v(t._s(t.reviewData&&t.reviewData.remark))])]):t.reviewData&&"REFUSE"==t.reviewData.auditStatus?e("span",[t._v(" "+t._s("Denial Reason:".concat(t.reviewData&&t.reviewData.remark))+" ")]):e("span",[t._v(t._s(t.reviewData&&t.reviewData.remark))])]):t._e(),t.reviewData&&"WAIT"==t.reviewData.auditStatus?e("div",{staticClass:"review-submit"},[e("div",{staticClass:"info-title"},[t._v("Denial Reason")]),e("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"Please enter the reason for rejection"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}}),e("div",{staticClass:"btn-box"},[e("el-button",{staticStyle:{width:"160px"},attrs:{size:"medium"},on:{click:function(e){return t.submitReview(2)}}},[t._v("reject")]),e("el-button",{staticStyle:{width:"160px"},attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.submitReview(1,t.reviewData)}}},[t._v("pass")])],1)],1):t._e()])])],1)},s=[],r=a("5530"),n=a("c7eb"),l=a("1da1"),c=(a("d3b7"),a("25f0"),a("901e")),o=a.n(c),u=a("ed08"),d=a("1b80"),v=a("51be"),p=a("fc2d"),w=a("a938"),h=a("f31c"),m=a("c0d8"),f=a.n(m),b=a("5a0c"),g=a.n(b),y=a("eb57"),C={name:"WithdrawalReview",components:{},data:function(){return{Id:null,userId:null,auditStatus:null,withdrawalType:null,applicationTime:null,reviewTime:null,receiptTime:null,outgoingChainType:null,sortData:{orderBy:null,orderType:null},page:1,size:20,tableData:null,baseUserPage:null,aggregateQuery:null,showNftType:1,showNftDialog:!1,withdrawNftList:[],showReviewDialog:!1,reviewType:1,reviewStatus:null,reviewData:null,remark:null,walletAddress:"",chainDrop:[]}},mixins:[d["a"]],methods:{bigNumber:o.a,timeForStr:u["h"],fetchChain:function(){var t=this;return Object(l["a"])(Object(n["a"])().mark((function e(){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.getChainList({page:1,size:999});case 2:a=e.sent,a&&(t.chainDrop=a.records);case 4:case"end":return e.stop()}}),e)})))()},searchFun:function(){var t=this.applicationTime,e=this.reviewTime,a=this.receiptTime,i=null,s=null,r=null,n=null,l=null,c=null;return t&&t[0]&&(i=Object(u["h"])(t[0],"YYYY-MM-DD HH:mm:ss")),t&&t[1]&&(s=Object(u["h"])(t[1],"YYYY-MM-DD HH:mm:ss")),e&&e[0]&&(r=Object(u["h"])(e[0],"YYYY-MM-DD HH:mm:ss")),e&&e[1]&&(n=Object(u["h"])(e[1],"YYYY-MM-DD HH:mm:ss")),a&&a[0]&&(l=Object(u["h"])(a[0],"YYYY-MM-DD HH:mm:ss")),a&&a[1]&&(c=Object(u["h"])(a[1],"YYYY-MM-DD HH:mm:ss")),{id:this.Id,userId:this.userId,auditStatus:this.auditStatus,withdrawalType:this.withdrawalType,outgoingChainType:this.outgoingChainType,createStartTime:i,createEndTime:s,auditStartTime:r,auditEndTime:n,arrivalStartTime:l,arrivalEndTime:c}},sortChange:function(t){t.column;var e=t.prop,a=t.order;this.sortData.orderBy=e,this.sortData.orderType="descending"==a?"DESC":"ASC",a||(this.sortData.orderType=null),this.fetchAssetWithdrawalList()},fetchAssetWithdrawalList:function(){var t=arguments,e=this;return Object(l["a"])(Object(n["a"])().mark((function a(){var i,s,l,c,o,u,d,v,p;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=!(t.length>0&&void 0!==t[0])||t[0],s=e.searchFun(),l=e.sortData,c=e.size,e.coin,o=e.userType,u=e.page,i&&(e.page=1,u=1),d=Object(r["a"])(Object(r["a"])(Object(r["a"])({},{userType:o,size:c,page:u}),l),s),a.next=8,e.$http.getAssetWithdrawalList(d);case 8:return v=a.sent,v&&(e.baseUserPage=v,e.tableData=v.records),delete d.size,delete d.page,a.next=14,e.$http.getAssetWithdrawalStatistics(d);case 14:p=a.sent,p&&(e.aggregateQuery=p);case 16:case"end":return a.stop()}}),a)})))()},onExport:function(){var t=this.searchFun(),e=v["a"].api+"/asset-withdrawal/exportExcel",a=(this.coin,this.userType),i=Object(r["a"])(Object(r["a"])({},{userType:a}),t);Object(u["c"])(e,i,"Export of withdrawal review and export")},showWithdrawNft:function(t,e){this.showNftType=e,this.withdrawNftList=t,this.showNftDialog=!0},connectMetaMask:function(){var t=this;return Object(l["a"])(Object(n["a"])().mark((function e(){var a,i,s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,i=new f.a(window.ethereum),s=window.ethereum,"undefined"===typeof s?(a.connectType=0,Object(u["f"])("https://metamask.app.link/dapp/".concat(window.location.origin))):s.enable().then(function(){var t=Object(l["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=new f.a(window.ethereum),i.eth.defaultAccount=e[0],a.walletAddress=e[0];case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){t.connectType=0,"User rejected provider access"===e||ElMessage.error("Connection to wallet failed")}));case 4:case"end":return e.stop()}}),e)})))()},showReview:function(t){this.reviewType="NFT"!=t.withdrawalType?1:2,this.reviewStatus=t.auditStatus,this.reviewData=t,this.showReviewDialog=!0},reTryFunc:function(t){var e=this;return Object(l["a"])(Object(n["a"])().mark((function a(){var i;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.withdrawawRetry({id:t.id});case 2:i=a.sent,i&&(e.fetchAssetWithdrawalList(),e.$message.success("Successful operation"));case 4:case"end":return a.stop()}}),a)})))()},withdrawNft:function(t){var e=arguments,a=this;return Object(l["a"])(Object(n["a"])().mark((function i(){var s,r,c,o,u,d,v,m,b,C,_,T,D,k,S,x,A,N,I,F,j,R,O,W,Y;return Object(n["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=e.length>1&&void 0!==e[1]&&e[1],i.next=3,a.connectMetaMask();case 3:return i.next=5,window.ethereum.request({method:"eth_requestAccounts"});case 5:return i.sent,r="ERC1155"==t.outWithdrawalNftList[0].seriesNftType,c=y["a"].MultiSign,o=y["a"].nftHelpAddress,u=new f.a(window.ethereum),d=new u.eth.Contract(p,c),v=o,m=t.outWithdrawalNftList[0].contractAddress,b=[parseInt(t.outWithdrawalNftList[0].tokenId)],C=[1],_=t.withdrawalWalletAddress,T="",D=["0x9B424522C56c2c90abb94695eeB1b148666644cF","0x728a86A400D673c7286BE43AC27B0B825Ba57616","0x47187c1da710f2021929c0bde8b1cdbc8b3f115c"],k=D[0],S=a.walletAddress,x=u.utils.asciiToHex(k).toString(),A=x.substring(0,66),N=new u.eth.Contract(r?h:w,m),i.next=25,N.methods.isApprovedForAll(S,o).call();case 25:if(I=i.sent,I){i.next=31;break}return i.next=29,N.methods.setApprovalForAll(o,!0).send({from:S});case 29:i.next=32;break;case 31:a.$message.success("isApproved");case 32:if(F=[m,k,b,C,_,T,"0x"],j=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"address",name:"receiver",type:"address"},{internalType:"string",name:"orderId",type:"string"},{internalType:"bytes",name:"data",type:"bytes"}],name:"transfer1155",outputs:[],stateMutability:"nonpayable",type:"function"}],"ERC721"==t.outWithdrawalNftList[0].seriesNftType&&(F=[m,k,b,_,T],j=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"address",name:"receiver",type:"address"},{internalType:"string",name:"orderId",type:"string"}],name:"transferNFT",outputs:[],stateMutability:"nonpayable",type:"function"}]),R=u.eth.abi.encodeFunctionCall(j[0],F),O=u.utils.asciiToHex(g()().unix().toString()),W=1,!s){i.next=42;break}d.methods.execute(v,0,R,A,O).send({from:S}),i.next=45;break;case 42:return Y=a,i.next=45,d.methods.signToSchedule(v,R,A,O,W).send({from:S}).on("transactionHash",function(){var e=Object(l["a"])(Object(n["a"])().mark((function e(a){var i;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(a,"hash===="),i={ids:[t.id],appleHash:a},e.next=4,Y.$http.withdrawawSign(i);case 4:e.sent,Y.fetchAssetWithdrawalList();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 45:case"end":return i.stop()}}),i)})))()},submitReview:function(t,e){var a=this;return Object(l["a"])(Object(n["a"])().mark((function i(){var s,r;return Object(n["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=null,1!=t){i.next=14;break}if("NFT"==e.withdrawalType){i.next=8;break}return i.next=5,a.$http.withdrawalApproved({id:a.reviewData.id});case 5:s=i.sent,i.next=12;break;case 8:return r={ids:[e.id],appleHash:"test"},i.next=11,a.$http.withdrawawSign(r);case 11:s=i.sent;case 12:i.next=20;break;case 14:if(a.remark){i.next=17;break}return a.$message.error("Please enter the reason for rejection"),i.abrupt("return");case 17:return i.next=19,a.$http.withdrawalRefuse({id:a.reviewData.id,remark:a.remark});case 19:s=i.sent;case 20:s&&(a.handleClose(),a.fetchAssetWithdrawalList(),a.$message.success("Successful operation"));case 21:case"end":return i.stop()}}),i)})))()},openLink:function(t){var e="";Object(u["f"])(e+t)},handleClose:function(t){this.withdrawNftList=null,this.showNftType=1,this.reviewType=1,this.reviewStatus=null,this.reviewData=null,t?t():(this.showNftDialog=!1,this.showReviewDialog=!1)},handleSizeChange:function(t){this.size=t,this.fetchAssetWithdrawalList()},handleCurrentChange:function(t){this.page=t,this.fetchAssetWithdrawalList(!1)}},created:function(){this.fetchAssetWithdrawalList(),this.fetchChain()},computed:{coin:function(){return this.$store.getters.coinConfig},userType:function(){return this.$store.getters.accountConfig},title:function(){var t=this.reviewType,e=this.reviewStatus;return 1==t?"WAIT"==e?"A withdrawal review (to be reviewed)":"TRANSFERRING"==e?"A withdrawal review (in the transfer)":"SUCCESS"==e?"A withdrawal review (successful transfer)":"FAIL"==e?"A withdrawal review (failed to transfer)":"A withdrawal review (rejected)":"WAIT"==e?"Protect NFT audit (to be reviewed)":"TRANSFERRING"==e?"Protect the NFT audit (in the transfer)":"SUCCESS"==e?"Protect NFT review (successful transfer)":"FAIL"==e?"Protect NFT review (failed transfer)":"Make NFT audit (rejected)"}},mounted:function(){},updated:function(){},beforeDestroy:function(){}},_=C,T=(a("b860"),a("2877")),D=Object(T["a"])(_,i,s,!1,null,"0452d9da",null);e["default"]=D.exports},"462d":function(t,e,a){},b860:function(t,e,a){"use strict";a("462d")},eb57:function(t,e,a){"use strict";e["a"]={MultiSign:"0xf5293915f239a8bd6b1fc00c3d5510abd6e97774",nftHelpAddress:"0x0636ac626382270f428d23aae75957418a5344fe"}}}]);