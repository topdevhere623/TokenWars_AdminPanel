(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a399fce"],{"21d5":function(e,t,r){},c4ff:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"searchBox"},[t("div",{staticClass:"searchLeft"}),t("div",{staticClass:"searchRight"},[t("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-plus"},on:{click:e.addFunc}},[e._v("Increase")])],1)]),t("el-table",{attrs:{data:e.tableData,"header-cell-style":{"background-color":"#F6F6F6","font-weight":"600",color:"#333",height:"20px"},height:"73vh"}},[t("el-table-column",{attrs:{prop:"roleName",label:"Role Name"}}),t("el-table-column",{attrs:{prop:"remark",label:"Character remark"}}),t("el-table-column",{attrs:{prop:"roleStatus",label:"state"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("span",[e._v(e._s("1"==r.row.roleStatus?"Open up":"Disable"))])]}}])}),t("el-table-column",{attrs:{prop:"way",label:"operate"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.editType(r.row)}}},[e._v("Revise")])]}}])})],1),e.dialogVisible?t("el-dialog",{attrs:{title:e.ruleForm.id?"Editor":"Add a role",visible:e.dialogVisible,width:"440px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"Role Name",prop:"roleName",rules:e.rules.roleName}},[t("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"Please enter the character name",oninput:"if(value.length > 20)value=value.slice(0, 20)"},model:{value:e.ruleForm.roleName,callback:function(t){e.$set(e.ruleForm,"roleName",t)},expression:"ruleForm.roleName"}})],1),t("el-form-item",{attrs:{label:"Character remark",prop:"remark",rules:e.rules.remark}},[t("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"Please enter the character's note",oninput:"if(value.length > 50)value=value.slice(0, 50)"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),t("el-form-item",{attrs:{label:"Character state",prop:"roleStatus"}},[t("el-radio-group",{model:{value:e.ruleForm.roleStatus,callback:function(t){e.$set(e.ruleForm,"roleStatus",t)},expression:"ruleForm.roleStatus"}},[t("el-radio",{attrs:{label:1}},[e._v("Open up")]),t("el-radio",{attrs:{label:2}},[e._v("Disable")])],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Sure")])],1)],1):e._e()],1)},l=[],s=r("c7eb"),o=r("5530"),i=r("1da1"),n=(r("d9e2"),r("4d63"),r("c607"),r("ac1f"),r("2c3e"),r("00b4"),r("25f0"),{data:function(){return{searchForm:{name:""},tableData:[],dialogVisible:!1,ruleForm:{id:"",roleName:"",remark:"",roleStatus:1},rules:{roleName:[{required:!0,message:"Please enter the character name!",trigger:"blur"}],remark:[{required:!0,message:"Please enter the character's note!",trigger:"blur"}]}}},created:function(){this.getTableList()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(i["a"])(Object(s["a"])().mark((function e(r){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=14;break}if(a=null,!t.ruleForm.id){e.next=8;break}return e.next=5,t.$http.roleUpdate(Object(o["a"])({},t.ruleForm));case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,t.$http.roleAdd(Object(o["a"])({},t.ruleForm));case 10:a=e.sent;case 11:a&&(t.$message.success("Successful operation!"),t.dialogVisible=!1,t.getTableList()),e.next=16;break;case 14:return t.$message.error("No permission access"),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},deleteType:function(e){var t=this;this.$confirm("Are you sure to delete ".concat(e.rolename,"?"),"hint",{confirmButtonText:"Sure",cancelButtonText:"Cancel",type:"warning"}).then(Object(i["a"])(Object(s["a"])().mark((function r(){var a;return Object(s["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.roleDelete({rid:e.id});case 2:a=r.sent,a&&(t.$message.success("Successful operation!"),t.getTableList());case 4:case"end":return r.stop()}}),r)})))).catch((function(){}))},editType:function(e){this.ruleForm=Object(o["a"])({},e),this.dialogVisible=!0},addFunc:function(){this.ruleForm.id="",this.ruleForm.roleName="",this.ruleForm.remark="",this.ruleForm.roleStatus=1,this.dialogVisible=!0},getTableList:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){var r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.roleList();case 2:r=t.sent,r&&(e.tableData=r.records);case 4:case"end":return t.stop()}}),t)})))()}}}),c=n,u=(r("f4de"),r("2877")),m=Object(u["a"])(c,a,l,!1,null,"9eb75130",null);t["default"]=m.exports},f4de:function(e,t,r){"use strict";r("21d5")}}]);